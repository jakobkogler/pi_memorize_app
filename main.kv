#:kivy 1.9.1

<RootWidget@FloatLayout>:
    id: rootWidget
    fullscreen: True

    BoxLayout:
        orientation: 'vertical'

        BoxLayout:
            height: '40dp'
            size_hint: 1, .2

            ToggleButton:
                id: tb_learn
                text: 'Learn Pi'
                group: 'modus'
                size_hint: .5, 1
                on_press: sm.current = 'learn_screen'

            ToggleButton:
                id: tb_recite
                text: 'Recite Pi'
                group: 'modus'
                state: 'down'
                size_hint: .5, 1
                on_press: sm.current = 'recite_screen'

        ScreenManager:
            id: sm

            ReciteScreen:
                name: 'recite_screen'

            LearnScreen:
                name: 'learn_screen'


<LearnScreen@Screen>:
    AnchorLayout:
        Label:
            size_hint: None, None
            size: '150dp', '48dp'
            text: 'Pi = 3.141592...'


<ReciteScreen>:
    orientation: 'vertical'

    Label:
        size_hint: None, .08
        pos_hint: {'center_x': .75, 'top': .975}
        text: root.correct_digits
        font_size: self.height * .5

    BoxLayout:
        size_hint: .6, .12
        pos_hint: {'center_x': .5, 'top': .85}

        Label:
            text: "Pi = "
            font_size: self.height * .5

        TextInput:
            text: root.pi_output
            readonly: True
            multiline: False
            font_size: self.height * .5
            padding: [6, (self.height - self.line_height) / 2]

    GridLayout:
        size_hint: .7, .6
        pos_hint: {'center_x': .5, 'y': .07}
        cols: 3

        DigitButton:
            text: '7'
        DigitButton:
            text: '8'
        DigitButton:
            text: '9'
        DigitButton:
            text: '4'
        DigitButton:
            text: '5'
        DigitButton:
            text: '6'
        DigitButton:
            text: '1'
        DigitButton:
            text: '2'
        DigitButton:
            text: '3'
        Label:
            text: ''
        DigitButton:
            text: '0'
        Label:
            text: ''

<DigitButton@Button>:
    on_press: self.parent.parent.digit_pressed(self.text)
    font_size: self.height * .4
