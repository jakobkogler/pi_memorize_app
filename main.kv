#:kivy 1.9.1

<RootWidget>:
    id: rootWidget
    fullscreen: True

    BoxLayout:
        orientation: 'vertical'

        BoxLayout:
            height: '40dp'
            size_hint: 1, .2

            ToggleButton:
                id: tb_learn
                text: 'Learn Pi'
                group: 'modus'
                size_hint: .5, 1
                on_press: sm.current = 'learn_screen'

            ToggleButton:
                id: tb_recite
                text: 'Recite Pi'
                group: 'modus'
                state: 'down'
                size_hint: .5, 1
                on_press: sm.current = 'recite_screen'

        ScreenManager:
            id: sm

            ReciteScreen:
                name: 'recite_screen'

            LearnScreen:
                name: 'learn_screen'


<LearnScreen@Screen>:
    AnchorLayout:
        Label:
            size_hint: None, None
            size: '150dp', '48dp'
            text: 'Pi = 3.141592...'


<ReciteScreen>:
    id: recite_screen
    Label:
        size_hint: None, None
        pos_hint: {'top': 1, 'right':.9}
        text: root.correct_digits

    BoxLayout:
        orientation: 'vertical'

        BoxLayout:
            #size_hint: None, None
            #pos_hint: {'top': .8, 'right':.4}
            pos_hint: {'center_x': .5}
            center_y: self.width / 2

            Label:
                size_hint: None, None
                #size: '150dp', '48dp'
                text: "Pi = "
                font_size: 20

            TextInput:
                size_hint: None, None
                height: '38dp'
                text: root.pi_output
                readonly: True
                multiline: False
                font_size: 20

        GridLayout:
            #size_hint: None, None
            #pos_hint: {'top': .7, 'right':.9}
            cols: 3

            DigitButton:
                text: '7'
            DigitButton:
                text: '8'
            DigitButton:
                text: '9'
            DigitButton:
                text: '4'
            DigitButton:
                text: '5'
            DigitButton:
                text: '6'
            DigitButton:
                text: '1'
            DigitButton:
                text: '2'
            DigitButton:
                text: '3'
            Label:
                text: ''
            DigitButton:
                text: '0'
            Label:
                text: ''

<DigitButton@Button>:
    on_press: self.parent.parent.parent.digit_pressed(self.text)
